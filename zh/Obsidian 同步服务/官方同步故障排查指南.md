---
aliases:
  - Troubleshoot Obsidian Sync
---

这个页面列出了你可能遇到的同步故障以及解决方法。

![[同步笔记#^sync-files-on-demand]]

## 合并冲突

当你在两个或多个设备上对同一文件进行更改时，就会发生冲突。例如，你可能在电脑上更改了文件a。而在同步服务上传这些更改前，你也在手机上更改了文件a。这就产生了冲突。

一般来说，如果你的设备不经常连接远程仓库，那么连接远程仓库时产生冲突的可能性就会更大。因为两次同步之间的时间过长，更改更多。

目前，当同步服务发现远程仓库内容与本地版本存在冲突时，会使用谷歌的[diff-match-patch](https://github.com/google/diff-match-patch)算法进行合并。

> [!help] 要查找冲突的发生时间，你可以在**设置 → 同步 → 同步日志 → 查看**中搜索"Merging conflicted"（合并冲突）。

## 同步服务清空了我在设备上刚创建的笔记

通常情况下，同步服务会优先尝试[[#合并冲突]]。不幸的是，合并冲突并不是在所有场景下都能生效，有时还会产生问题，特别是那些使用了启动时 *自动生成* 或 *修改笔记* 功能的场景下。常见的例子是使用[[日记]]插件。

如果远程仓库中已存在一篇笔记a，那么在笔记a被同步至本地前的1秒钟左右、在本地再次创建笔记a，同步服务则会优先选择将远程仓库中的笔记a同步至本地，而非将二者合并。这看起来就像同步服务清空了你刚创建的笔记a。在这种情况下，你可以使用[[文件恢复]]功能来恢复本地仓库中笔记a的内容。当然，我们更建议你在同步完成前不进行笔记创建和修改工作。

## "仓库过大" 是什么意思？

你的账户超过了[[容量限制]]。具体请查看[[容量限制]]相关说明。

由于附件和版本历史也会影响你远程仓库的总大小，因此即使你远程仓库的笔记总大小低于限制，但其实际仍然超出了限制。

要识别并清理仓库中的大文件：

1. 打开**设置 → 同步**。
2. 点击**查看大文件**，并考虑清除其中一些大文件。

## "仓库不存在" 是什么意思？

`{"res":"err","msg":"Vault not found."}`

这个错误常见于以下情况：

1. 远程仓库已经被其他设备删除了。
2. 同步订阅超过30天未续订，导致远程仓库被删除。
3. 订阅被取消或退款，导致远程仓库被删除。

在以上情况下，请及时**断开本地仓库与远程仓库的连接，并及时备份本地仓库**，以保证本地仓库数据不会受到远程仓库影响。