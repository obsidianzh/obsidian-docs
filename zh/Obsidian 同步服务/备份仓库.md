---
aliases:
  - Obsidian Sync/Obsidian Sync and third-party services
  - Back up your vault
---

[[Obsidian 官方同步简介|官方同步]] 是用于在设备间同步笔记的服务。虽然它提供了[[版本历史]]功能，但本质**并不**侧重于备份你的仓库。

为了备份仓库、防止数据意外丢失，我们建议你使用专用的单向备份工具（Git之类的），从而将笔记数据从仓库备份到指定位置，而不会影响仓库数据本身。

## 使用第三方同步服务备份你的仓库

> [!danger] 尽管我们建议你对仓库进行备份，但你要注意**同时使用第三方同步服务与 Obsidian 官方同步可能会导致数据损坏或丢失**。

如果你在多个设备上同时开启了某个第三方同步服务，那么你在修改笔记时，这些同步服务就有可能与官方同步冲突，进而导致冲突文件、重复文件或文件损坏等情况。

因此，要在使用官方同步的同时使用这类服务来达到备份效果，我们建议你仅在主要设备上开启该服务。例如，如果你大部分时间都在笔记本电脑上写作，那就在笔记本电脑上开启第三方同步以进行备份。

此时，对于苹果用户来说，仓库切换器里只会显示仓库图标而不是云图标，表示当前仓库不再与 iCloud Drive 同步。

> [!warning] 必须保持文件在离线情况下可用
> 一些云存储服务，如 OneDrive 和 Dropbox，可以让你仅在使用文件时再下载文件，不用时可以将文件从本地移除从而释放空间。这些功能有时被称为“按需使用”。
> 
> 但是，对于 Obsidian 来说，由于这些文件不再存在于本地设备上，因此它们将被官方同步视为已删除，从而导致远程仓库的相应文件被删除。
> 
> 所以，要在使用 OneDrive、Dropbox 或其他类似服务的同时使用官方同步，你需要禁用按需使用功能，让同步软件始终保留设备上的文件。

## 从第三方同步服务中移除你的仓库

如果你正在使用官方同步并且该仓库正在被第三方服务同步，你可以通过以下步骤将仓库从第三方同步服务中移除以避免同步冲突。

### 桌面端

#### 选项 1：使用仓库切换器移动仓库

1. 在左下角，点击仓库名称以打开**仓库列表**
2. 点击管理仓库（ ![[obsidian-icon-vault-switcher.svg#icon]] ）。
3. 点击要移动仓库旁的**更多选项**（ ![[lucide-more-horizontal.svg#icon]] ）。
4. 点击`移动仓库`，从而将该仓库移动到系统上另一位置。

#### 选项 2：手动移动仓库

1. 备份仓库。为了保证数据的安全，防止意外丢失，开始操作前需要将这个仓库的文件夹复制到另一个地方，从而使复制文件夹在整个操作过程中不会被影响。
2. 退出 Obsidian。
3. 剪切并粘贴（或拖放）你的仓库文件夹，将其从旧位置移动到新位置。注意，不要放在第三方同步服务的同步文件夹下。
4. 确保你的备份文件包含你的仓库。
5. 重新启动 Obsidian。
6. 在左下角，点击仓库名称以打开**仓库列表**。点击管理仓库（ ![[obsidian-icon-vault-switcher.svg#icon]] ），选择**打开本地仓库**。
7. 跳转到到你仓库的新位置并选择该仓库文件夹。确认。
9. 检查仓库数据情况（一般来说不会有什么问题）。但你可能需要在**设置 → 第三方插件 → 关闭安全模式**下重新启用第三方插件。
10. 重新设置 Obsidian 官方同步。

### 移动端

在安卓系统上，仓库基本会直接保存在安卓的文件系统中。你可以参考[[#选项 1：使用仓库切换器移动仓库]]来修改仓库位置，使其不被第三方服务的同步目录覆盖。

#### iOS

简单来说就是把 iCloud 中的仓库内容移动到我的 iPhone/ iPad 中的新仓库文件夹中：

1. 备份你的仓库。
2. 在你的设备上，创建一个新的仓库，并禁用**保存在 iCloud Drive**。
3. 强制关闭所有设备上的 Obsidian 应用，以防止官方同步在你移动仓库时进行同步。
4. 在你的 iOS 设备上，打开文件应用。
5. 在**iCloud Drive → Obsidian**下，长按仓库文件夹，然后选择**移动**。
6. 移动到**我的 iPhone → Obsidian**。确保你能看到之前创建的保险库。
7. 点击**复制**。
8. 复制完成后，回到**iCloud Drive → Obsidian**。
9. 删除之前的仓库文件夹。

下次打开 Obsidian 时，你将看到仓库的图标是保险库，而不是云，这表示它不再在 iCloud Drive 上。